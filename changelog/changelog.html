
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changelog &mdash; MongoDB Node.JS Driver 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="MongoDB Node.JS Driver 1.0.0 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../contents.html">MongoDB Node.JS Driver 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>0.9.8-7 2012-02-06<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Simplified findOne to use the find command instead of the custom code (Issue #498).</li>
<li>BSON JS parser not also checks for _bsonType variable in case BSON object is in weird scope (Issue #495).</li>
</ul>
</div>
<div class="section" id="id2">
<h2>0.9.8-6 2012-02-04<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Removed the check for replicaset change code as it will never work with node.js.</li>
</ul>
</div>
<div class="section" id="id3">
<h2>0.9.8-5 2012-02-02<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added geoNear command to Collection.</li>
<li>Added geoHaystackSearch command to Collection.</li>
<li>Added indexes command to collection to retrieve the indexes on a Collection.</li>
<li>Added stats command to collection to retrieve the statistics on a Collection.</li>
<li>Added listDatabases command to admin object to allow retrieval of all available dbs.</li>
<li>Changed createCreateIndexCommand to work better with options.</li>
<li>Fixed dereference method on Db class to correctly dereference Db reference objects.</li>
<li>Moved connect object onto Db class(Db.connect) as well as keeping backward compatibility.</li>
<li>Removed writeBuffer method from gridstore, write handles switching automatically now.</li>
<li>Changed readBuffer to read on Gridstore, Gridstore now only supports Binary Buffers no Strings anymore.</li>
<li>Moved Long class to bson directory.</li>
</ul>
</div>
<div class="section" id="id4">
<h2>0.9.8-4 2012-01-28<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added reIndex command to collection and db level.</li>
<li>Added support for $returnKey, $maxScan, $min, $max, $showDiskLoc, $comment to cursor and find/findOne methods.</li>
<li>Added dropDups and v option to createIndex and ensureIndex.</li>
<li>Added isCapped method to Collection.</li>
<li>Added indexExists method to Collection.</li>
<li>Added findAndRemove method to Collection.</li>
<li>Fixed bug for replicaset connection when no active servers in the set.</li>
<li>Fixed bug for replicaset connections when errors occur during connection.</li>
<li>Merged in patch for BSON Number handling from Lee Salzman, did some small fixes and added test coverage.</li>
</ul>
</div>
<div class="section" id="id5">
<h2>0.9.8-3 2012-01-21<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Workaround for issue with Object.defineProperty (Issue #484)</li>
<li>ObjectID generation with date does not set rest of fields to zero (Issue #482)</li>
</ul>
</div>
<div class="section" id="id6">
<h2>0.9.8-2 2012-01-20<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed a missing this in the ReplSetServers constructor.</li>
</ul>
</div>
<div class="section" id="id7">
<h2>0.9.8-1 2012-01-17<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>FindAndModify bug fix for duplicate errors (Issue #481)</li>
</ul>
</div>
<div class="section" id="id8">
<h2>0.9.8 2012-01-17<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Replicasets now correctly adjusts to live changes in the replicaset configuration on the servers, reconnecting correctly.
- Set the interval for checking for changes setting the replicaSetCheckInterval property when creating the ReplSetServers instance or on db.serverConfig.replicaSetCheckInterval. (default 1000 miliseconds)</li>
<li>Fixes formattedOrderClause in collection.js to accept a plain hash as a parameter (Issue #469) <a class="reference external" href="https://github.com/tedeh">https://github.com/tedeh</a></li>
<li>Removed duplicate code for formattedOrderClause and moved to utils module</li>
<li>Pass in poolSize for ReplSetServers to set default poolSize for new replicaset members</li>
<li>Bug fix for BSON JS deserializer. Isolating the eval functions in separate functions to avoid V8 deoptimizations</li>
<li>Correct handling of illegal BSON messages during deserialization</li>
<li>Fixed Infinite loop when reading GridFs file with no chunks (Issue #471)</li>
<li>Correctly update existing user password when using addUser (Issue #470)</li>
</ul>
</div>
<div class="section" id="id9">
<h2>0.9.7.3-5 2012-01-04<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix for RegExp serialization for 0.4.X where typeof /regexp/ == &#8216;function&#8217; vs in 0.6.X typeof /regexp/ == &#8216;object&#8217;</li>
<li>Don&#8217;t allow keepAlive and setNoDelay for 0.4.X as it throws errors</li>
</ul>
</div>
<div class="section" id="id10">
<h2>0.9.7.3-4 2012-01-04<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Chased down potential memory leak on findAndModify, Issue #467 (node.js removeAllListeners leaves the key in the _events object, node.js bug on eventlistener?, leads to extremely slow memory leak on listener object)</li>
<li>Sanity checks for GridFS performance with benchmark added</li>
</ul>
</div>
<div class="section" id="id11">
<h2>0.9.7.3-3 2012-01-04<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Bug fixes for performance issues going form 0.9.6.X to 0.9.7.X on linux</li>
<li>BSON bug fixes for performance</li>
</ul>
</div>
<div class="section" id="id12">
<h2>0.9.7.3-2 2012-01-02<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed up documentation to reflect the preferred way of instantiating bson types</li>
<li>GC bug fix for JS bson parser to avoid stop-and-go GC collection</li>
</ul>
</div>
<div class="section" id="id13">
<h2>0.9.7.3-1 2012-01-02<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix to make db.bson_serializer and db.bson_deserializer work as it did previously</li>
</ul>
</div>
<div class="section" id="id14">
<h2>0.9.7.3 2011-12-30<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Moved BSON_BINARY_SUBTYPE_DEFAULT from BSON object to Binary object and removed the <a href="#id54"><span class="problematic" id="id55">BSON_BINARY_</span></a> prefixes</li>
<li>Removed Native BSON types, C++ parser uses JS types (faster due to cost of crossing the JS-C++ barrier for each call)</li>
<li>Added build fix for 0.4.X branch of Node.js where GetOwnPropertyNames is not defined in v8</li>
<li>Fix for wire protocol parser for corner situation where the message is larger than the maximum socket buffer in node.js (Issue #464, #461, #447)</li>
<li>Connection pool status set to connected on poolReady, isConnected returns false on anything but connected status (Issue #455)</li>
</ul>
</div>
<div class="section" id="id15">
<h2>0.9.7.2-5 2011-12-22<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Brand spanking new Streaming Cursor support Issue #458 (<a class="reference external" href="https://github.com/christkv/node-mongodb-native/pull/458">https://github.com/christkv/node-mongodb-native/pull/458</a>) thanks to Mr Aaron Heckmann</li>
</ul>
</div>
<div class="section" id="id16">
<h2>0.9.7.2-4 2011-12-21<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Refactoring of callback code to work around performance regression on linux</li>
<li>Fixed group function to correctly use the command mode as default</li>
</ul>
</div>
<div class="section" id="id17">
<h2>0.9.7.2-3 2011-12-18<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Fixed error handling for findAndModify while still working for mongodb 1.8.6 (Issue #450).</p>
</li>
<li><dl class="first docutils">
<dt>Allow for force send query to primary, pass option (read:&#8217;primary&#8217;) on find command.</dt>
<dd><ul class="first last simple">
<li><tt class="docutils literal"><span class="pre">find({a:1},</span> <span class="pre">{read:'primary'}).toArray(function(err,</span> <span class="pre">items)</span> <span class="pre">{});</span></tt></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id18">
<h2>0.9.7.2-2 2011-12-16<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixes infinite streamRecords QueryFailure fix when using Mongos (Issue #442)</li>
</ul>
</div>
<div class="section" id="id19">
<h2>0.9.7.2-1 2011-12-16<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>~10% perf improvement for ObjectId#toHexString (Issue #448, <a class="reference external" href="https://github.com/aheckmann">https://github.com/aheckmann</a>)</li>
<li>Only using process.nextTick on errors emitted on callbacks not on all parsing, reduces number of ticks in the driver</li>
<li>Changed parsing off bson messages to use process.nextTick to do bson parsing in batches if the message is over 10K as to yield more time to the event look increasing concurrency on big mongoreply messages with multiple documents</li>
</ul>
</div>
<div class="section" id="id20">
<h2>0.9.7.2 2011-12-15<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Added SSL support for future version of mongodb (VERY VERY EXPERIMENTAL)</dt>
<dd><ul class="first last simple">
<li>pass in the ssl:true option to the server or replicaset server config to enable</li>
<li>a bug either in mongodb or node.js does not allow for more than 1 connection pr db instance (poolSize:1).</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Added getTimestamp() method to objectID that returns a date object</p>
</li>
<li><dl class="first docutils">
<dt>Added finalize function to collection.group</dt>
<dd><ul class="first last simple">
<li>function group (keys, condition, initial, reduce, finalize, command, callback)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Reaper no longer using setTimeout to handle reaping. Triggering is done in the general flow leading to predictable behavior.</dt>
<dd><ul class="first last simple">
<li>reaperInterval, set interval for reaper (default 10000 miliseconds)</li>
<li>reaperTimeout, set timeout for calls (default 30000 miliseconds)</li>
<li>reaper, enable/disable reaper (default false)</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Work around for issues with findAndModify during high concurrency load, insure that the behavior is the same across the 1.8.X branch and 2.X branch of MongoDb</p>
</li>
<li><p class="first">Reworked multiple db&#8217;s sharing same connection pool to behave correctly on error, timeout and close</p>
</li>
<li><p class="first">EnsureIndex command can be executed without a callback (Issue #438)</p>
</li>
<li><dl class="first docutils">
<dt>Eval function no accepts options including nolock (Issue #432)</dt>
<dd><ul class="first last simple">
<li>eval(code, parameters, options, callback) (where options = {nolock:true})</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id21">
<h2>0.9.7.1-4 2011-11-27<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Replaced install.sh with install.js to install correctly on all supported os&#8217;s</li>
</ul>
</div>
<div class="section" id="id22">
<h2>0.9.7.1-3 2011-11-27<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixes incorrect scope for ensureIndex error wrapping (Issue #419) <a class="reference external" href="https://github.com/ritch">https://github.com/ritch</a></li>
</ul>
</div>
<div class="section" id="id23">
<h2>0.9.7.1-2 2011-11-27<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Set statistical selection strategy as default for secondary choice.</li>
</ul>
</div>
<div class="section" id="id24">
<h2>0.9.7.1-1 2011-11-27<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Better handling of single server reconnect (fixes some bugs)</li>
<li>Better test coverage of single server failure</li>
<li>Correct handling of callbacks on replicaset servers when firewall dropping packets, correct reconnect</li>
</ul>
</div>
<div class="section" id="id25">
<h2>0.9.7.1 2011-11-24<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Better handling of dead server for single server instances</p>
</li>
<li><p class="first">FindOne and find treats selector == null as {}, Issue #403</p>
</li>
<li><dl class="first docutils">
<dt>Possible to pass in a strategy for the replicaset to pick secondary reader node</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>parameter strategy</dt>
<dd><ul class="first last simple">
<li>ping (default), pings the servers and picks the one with the lowest ping time</li>
<li>statistical, measures each request and pick the one with the lowest mean and std deviation</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Set replicaset read preference replicaset.setReadPreference()</dt>
<dd><ul class="first last simple">
<li>Server.READ_PRIMARY (use primary server for reads)</li>
<li>Server.READ_SECONDARY (from a secondary server (uses the strategy set))</li>
<li>tags, {object of tags}</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Added replay of commands issued to a closed connection when the connection is re-established</p>
</li>
<li><p class="first">Fix isConnected and close on unopened connections. Issue #409, fix by (<a class="reference external" href="https://github.com/sethml">https://github.com/sethml</a>)</p>
</li>
<li><p class="first">Moved reaper to db.open instead of constructor (Issue #406)</p>
</li>
<li><dl class="first docutils">
<dt>Allows passing through of socket connection settings to Server or ReplSetServer under the option socketOptions</dt>
<dd><ul class="first last simple">
<li>timeout = set seconds before connection times out (default 0)</li>
<li>noDelay = Disables the Nagle algorithm (default true)</li>
<li>keepAlive = Set if keepAlive is used (default 0, which means no keepAlive, set higher than 0 for keepAlive)</li>
<li>encoding = [&#8216;ascii&#8217;, &#8216;utf8&#8217;, or &#8216;base64&#8217;] (default null)</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Fixes for handling of errors during shutdown off a socket connection</p>
</li>
<li><p class="first">Correctly applies socket options including timeout</p>
</li>
<li><p class="first">Cleanup of test management code to close connections correctly</p>
</li>
<li><p class="first">Handle parser errors better, closing down the connection and emitting an error</p>
</li>
<li><p class="first">Correctly emit errors from server.js only wrapping errors that are strings</p>
</li>
</ul>
</div>
<div class="section" id="id26">
<h2>0.9.7 2011-11-10<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Added priority setting to replicaset manager</p>
</li>
<li><p class="first">Added correct handling of passive servers in replicaset</p>
</li>
<li><p class="first">Reworked socket code for simpler clearer handling</p>
</li>
<li><p class="first">Correct handling of connections in test helpers</p>
</li>
<li><dl class="first docutils">
<dt>Added control of retries on failure</dt>
<dd><ul class="first last simple">
<li>control with parameters retryMiliSeconds and numberOfRetries when creating a db instance</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Added reaper that will timeout and cleanup queries that never return</dt>
<dd><ul class="first last simple">
<li>control with parameters reaperInterval and reaperTimeout when creating a db instance</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Refactored test helper classes for replicaset tests</p>
</li>
<li><dl class="first docutils">
<dt>Allows raw (no bson parser mode for insert, update, remove, find and findOne)</dt>
<dd><ul class="first last simple">
<li>control raw mode passing in option raw:true on the commands</li>
<li>will return buffers with the binary bson objects</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Fixed memory leak in cursor.toArray</p>
</li>
<li><p class="first">Fixed bug in command creation for mongodb server with wrong scope of call</p>
</li>
<li><p class="first">Added db(dbName) method to db.js to allow for reuse of connections against other databases</p>
</li>
<li><dl class="first docutils">
<dt>Serialization of functions in an object is off by default, override with parameter</dt>
<dd><ul class="first last simple">
<li>serializeFunctions [true/false] on db level, collection level or individual insert/update/findAndModify</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Added Long.fromString to c++ class and fixed minor bug in the code (Test case for $gt operator on 64-bit integers, Issue #394)</p>
</li>
<li><p class="first">FindOne and find now share same code execution and will work in the same manner, Issue #399</p>
</li>
<li><p class="first">Fix for tailable cursors, Issue #384</p>
</li>
<li><p class="first">Fix for Cursor rewind broken, Issue #389</p>
</li>
<li><p class="first">Allow Gridstore.exist to query using regexp, Issue #387, fix by (<a class="reference external" href="https://github.com/kaij">https://github.com/kaij</a>)</p>
</li>
<li><p class="first">Updated documentation on <a class="reference external" href="https://github.com/christkv/node-mongodb-native">https://github.com/christkv/node-mongodb-native</a></p>
</li>
<li><p class="first">Fixed toJSON methods across all objects for BSON, Binary return Base64 Encoded data</p>
</li>
</ul>
</div>
<div class="section" id="id27">
<h2>0.9.6-22 2011-10-15<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed bug in js bson parser that could cause wrong object size on serialization, Issue #370</li>
<li>Fixed bug in findAndModify that did not throw error on replicaset timeout, Issue #373</li>
</ul>
</div>
<div class="section" id="id28">
<h2>0.9.6-21 2011-10-05<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Reworked reconnect code to work correctly</li>
<li>Handling errors in different parts of the code to ensure that it does not lock the connection</li>
<li>Consistent error handling for Object.createFromHexString for JS and C++</li>
</ul>
</div>
<div class="section" id="id29">
<h2>0.9.6-20 2011-10-04<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Reworked bson.js parser to get rid off Array.shift() due to it allocating new memory for each call. Speedup varies between 5-15% depending on doc</p>
</li>
<li><p class="first">Reworked bson.cc to throw error when trying to serialize js bson types</p>
</li>
<li><p class="first">Added MinKey, MaxKey and Double support for JS and C++ parser</p>
</li>
<li><p class="first">Reworked socket handling code to emit errors on unparsable messages</p>
</li>
<li><dl class="first docutils">
<dt>Added logger option for Db class, lets you pass in a function in the shape</dt>
<dd><dl class="first docutils">
<dt>{</dt>
<dd><p class="first last">log : function(message, object) {},
error : function(errorMessage, errorObject) {},
debug : function(debugMessage, object) {},</p>
</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>Usage is new Db(new Server(..), {logger: loggerInstance})</p>
</li>
</ul>
</div>
<div class="section" id="id30">
<h2>0.9.6-19 2011-09-29<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixing compatibility issues between C++ bson parser and js parser</li>
<li>Added Symbol support to C++ parser</li>
<li>Fixed socket handling bug for seldom misaligned message from mongodb</li>
<li>Correctly handles serialization of functions using the C++ bson parser</li>
</ul>
</div>
<div class="section" id="id31">
<h2>0.9.6-18 2011-09-22<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed bug in waitForConnection that would lead to 100% cpu usage, Issue #352</li>
</ul>
</div>
<div class="section" id="id32">
<h2>0.9.6-17 2011-09-21<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed broken exception test causing bamboo to hang</li>
<li>Handling correctly command+lastError when both return results as in findAndModify, Issue #351</li>
</ul>
</div>
<div class="section" id="id33">
<h2>0.9.6-16 2011-09-14<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixing a bunch of issues with compatibility with MongoDB 2.0.X branch. Some fairly big changes in behavior from 1.8.X to 2.0.X on the server.</li>
<li>Error Connection MongoDB V2.0.0 with Auth=true, Issue #348</li>
</ul>
</div>
<div class="section" id="id34">
<h2>0.9.6-15 2011-09-09<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed issue where pools would not be correctly cleaned up after an error, Issue #345</li>
<li>Fixed authentication issue with secondary servers in Replicaset, Issue #334</li>
<li>Duplicate replica-set servers when omitting port, Issue #341</li>
<li>Fixing findAndModify to correctly work with Replicasets ensuring proper error handling, Issue #336</li>
<li>Merged in code from (<a class="reference external" href="https://github.com/aheckmann">https://github.com/aheckmann</a>) that checks for global variable leaks</li>
</ul>
</div>
<div class="section" id="id35">
<h2>0.9.6-14 2011-09-05<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Minor fixes for error handling in cursor streaming (<a class="reference external" href="https://github.com/sethml">https://github.com/sethml</a>), Issue #332</li>
<li>Minor doc fixes</li>
<li>Some more cursor sort tests added, Issue #333</li>
<li>Fixes to work with 0.5.X branch</li>
<li>Fix Db not removing reconnect listener from serverConfig, (<a class="reference external" href="https://github.com/sbrekken">https://github.com/sbrekken</a>), Issue #337</li>
<li>Removed node_events.h includes (<a class="reference external" href="https://github.com/jannehietamaki">https://github.com/jannehietamaki</a>), Issue #339</li>
<li>Implement correct safe/strict mode for findAndModify.</li>
</ul>
</div>
<div class="section" id="id36">
<h2>0.9.6-13 2011-08-24<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Db names correctly error checked for illegal characters</li>
</ul>
</div>
<div class="section" id="id37">
<h2>0.9.6-12 2011-08-24<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Nasty bug in GridFS if you changed the default chunk size</li>
<li>Fixed error handling bug in findOne</li>
</ul>
</div>
<div class="section" id="id38">
<h2>0.9.6-11 2011-08-23<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Timeout option not correctly making it to the cursor, Issue #320, Fix from (<a class="reference external" href="https://github.com/year2013">https://github.com/year2013</a>)</li>
<li>Fixes for memory leaks when using buffers and C++ parser</li>
<li>Fixes to make tests pass on 0.5.X</li>
<li>Cleanup of bson.js to remove duplicated code paths</li>
<li>Fix for errors occurring in ensureIndex, Issue #326</li>
<li>Removing require.paths to make tests work with the 0.5.X branch</li>
</ul>
</div>
<div class="section" id="id39">
<h2>0.9.6-10 2011-08-11<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Specific type Double for capped collections (<a class="reference external" href="https://github.com/mbostock">https://github.com/mbostock</a>), Issue #312</li>
<li>Decorating Errors with all all object info from Mongo (<a class="reference external" href="https://github.com/laurie71">https://github.com/laurie71</a>), Issue #308</li>
<li>Implementing fixes for mongodb 1.9.1 and higher to make tests pass</li>
<li>Admin validateCollection now takes an options argument for you to pass in full option</li>
<li>Implemented keepGoing parameter for mongodb 1.9.1 or higher, Issue #310</li>
<li>Added test for read_secondary count issue, merged in fix from (<a class="reference external" href="https://github.com/year2013">https://github.com/year2013</a>), Issue #317</li>
</ul>
</div>
<div class="section" id="id40">
<h2>0.9.6-9<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Bug fix for bson parsing the key &#8216;&#8217;:&#8217;&#8217; correctly without crashing</li>
</ul>
</div>
<div class="section" id="id41">
<h2>0.9.6-8<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Changed to using node.js crypto library MD5 digest</li>
<li>Connect method support documented mongodb: syntax by (<a class="reference external" href="https://github.com/sethml">https://github.com/sethml</a>)</li>
<li>Support Symbol type for BSON, serializes to it&#8217;s own type Symbol, Issue #302, #288</li>
<li>Code object without scope serializing to correct BSON type</li>
<li>Lot&#8217;s of fixes to avoid double callbacks (<a class="reference external" href="https://github.com/aheckmann">https://github.com/aheckmann</a>) Issue #304</li>
<li>Long deserializes as Number for values in the range -2^53 to 2^53, Issue #305 (<a class="reference external" href="https://github.com/sethml">https://github.com/sethml</a>)</li>
<li>Fixed C++ parser to reflect JS parser handling of long deserialization</li>
<li>Bson small optimizations</li>
</ul>
</div>
<div class="section" id="id42">
<h2>0.9.6-7 2011-07-13<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>JS Bson deserialization bug #287</li>
</ul>
</div>
<div class="section" id="id43">
<h2>0.9.6-6 2011-07-12<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>FindAndModify not returning error message as other methods Issue #277</li>
<li>Added test coverage for $push, $pushAll and $inc atomic operations</li>
<li>Correct Error handling for non 12/24 bit ids on Pure JS ObjectID class Issue #276</li>
<li>Fixed terrible deserialization bug in js bson code #285</li>
<li>Fix by andrewjstone to avoid throwing errors when this.primary not defined</li>
</ul>
</div>
<div class="section" id="id44">
<h2>0.9.6-5 2011-07-06<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Rewritten BSON js parser now faster than the C parser on my core2duo laptop</li>
<li>Added option full to indexInformation to get all index info Issue #265</li>
<li>Passing in ObjectID for new Gridstore works correctly Issue #272</li>
</ul>
</div>
<div class="section" id="id45">
<h2>0.9.6-4 2011-07-01<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added test and bug fix for insert/update/remove without callback supplied</li>
</ul>
</div>
<div class="section" id="id46">
<h2>0.9.6-3 2011-07-01<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added simple grid class called Grid with put, get, delete methods</li>
<li>Fixed writeBuffer/readBuffer methods on GridStore so they work correctly</li>
<li>Automatic handling of buffers when using write method on GridStore</li>
<li>GridStore now accepts a ObjectID instead of file name for write and read methods</li>
<li>GridStore.list accepts id option to return of file ids instead of filenames</li>
<li>GridStore close method returns document for the file allowing user to reference _id field</li>
</ul>
</div>
<div class="section" id="id47">
<h2>0.9.6-2 2011-06-30<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixes for reconnect logic for server object (replays auth correctly)</li>
<li>More testcases for auth</li>
<li>Fixes in error handling for replicaset</li>
<li>Fixed bug with safe parameter that would fail to execute safe when passing w or wtimeout</li>
<li>Fixed slaveOk bug for findOne method</li>
<li>Implemented auth support for replicaset and test cases</li>
<li>Fixed error when not passing in rs_name</li>
</ul>
</div>
<div class="section" id="id48">
<h2>0.9.6-1 2011-06-25<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixes for test to run properly using c++ bson parser</li>
<li>Fixes for dbref in native parser (correctly handles ref without db component)</li>
<li>Connection fixes for replicasets to avoid runtime conditions in cygwin (<a class="reference external" href="https://github.com/vincentcr">https://github.com/vincentcr</a>)</li>
<li>Fixes for timestamp in js bson parser (distinct timestamp type now)</li>
</ul>
</div>
<div class="section" id="id49">
<h2>0.9.6 2011-06-21<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Worked around npm version handling bug</li>
<li>Race condition fix for cygwin (<a class="reference external" href="https://github.com/vincentcr">https://github.com/vincentcr</a>)</li>
</ul>
</div>
<div class="section" id="id50">
<h2>0.9.5-1 2011-06-21<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Extracted Timestamp as separate class for bson js parser to avoid instanceof problems</li>
<li>Fixed driver strict mode issue</li>
</ul>
</div>
<div class="section" id="id51">
<h2>0.9.5 2011-06-20<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Replicaset support (failover and reading from secondary servers)</li>
<li>Removed ServerPair and ServerCluster</li>
<li>Added connection pool functionality</li>
<li>Fixed serious bug in C++ bson parser where bytes &amp;gt; 127 would generate 2 byte sequences</li>
<li>Allows for forcing the server to assign ObjectID&#8217;s using the option {forceServerObjectId: true}</li>
</ul>
</div>
<div class="section" id="id52">
<h2>0.6.8<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Removed multiple message concept from bson</li>
<li>Changed db.open(db) to be db.open(err, db)</li>
</ul>
</div>
<div class="section" id="id53">
<h2>0.1 2010-01-30<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Initial release support of driver using native node.js interface</li>
<li>Supports gridfs specification</li>
<li>Supports admin functionality</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo-mongodb.png" alt="Logo"/>
            </a></p>
<h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#id1">0.9.8-7 2012-02-06</a></li>
<li><a class="reference internal" href="#id2">0.9.8-6 2012-02-04</a></li>
<li><a class="reference internal" href="#id3">0.9.8-5 2012-02-02</a></li>
<li><a class="reference internal" href="#id4">0.9.8-4 2012-01-28</a></li>
<li><a class="reference internal" href="#id5">0.9.8-3 2012-01-21</a></li>
<li><a class="reference internal" href="#id6">0.9.8-2 2012-01-20</a></li>
<li><a class="reference internal" href="#id7">0.9.8-1 2012-01-17</a></li>
<li><a class="reference internal" href="#id8">0.9.8 2012-01-17</a></li>
<li><a class="reference internal" href="#id9">0.9.7.3-5 2012-01-04</a></li>
<li><a class="reference internal" href="#id10">0.9.7.3-4 2012-01-04</a></li>
<li><a class="reference internal" href="#id11">0.9.7.3-3 2012-01-04</a></li>
<li><a class="reference internal" href="#id12">0.9.7.3-2 2012-01-02</a></li>
<li><a class="reference internal" href="#id13">0.9.7.3-1 2012-01-02</a></li>
<li><a class="reference internal" href="#id14">0.9.7.3 2011-12-30</a></li>
<li><a class="reference internal" href="#id15">0.9.7.2-5 2011-12-22</a></li>
<li><a class="reference internal" href="#id16">0.9.7.2-4 2011-12-21</a></li>
<li><a class="reference internal" href="#id17">0.9.7.2-3 2011-12-18</a></li>
<li><a class="reference internal" href="#id18">0.9.7.2-2 2011-12-16</a></li>
<li><a class="reference internal" href="#id19">0.9.7.2-1 2011-12-16</a></li>
<li><a class="reference internal" href="#id20">0.9.7.2 2011-12-15</a></li>
<li><a class="reference internal" href="#id21">0.9.7.1-4 2011-11-27</a></li>
<li><a class="reference internal" href="#id22">0.9.7.1-3 2011-11-27</a></li>
<li><a class="reference internal" href="#id23">0.9.7.1-2 2011-11-27</a></li>
<li><a class="reference internal" href="#id24">0.9.7.1-1 2011-11-27</a></li>
<li><a class="reference internal" href="#id25">0.9.7.1 2011-11-24</a></li>
<li><a class="reference internal" href="#id26">0.9.7 2011-11-10</a></li>
<li><a class="reference internal" href="#id27">0.9.6-22 2011-10-15</a></li>
<li><a class="reference internal" href="#id28">0.9.6-21 2011-10-05</a></li>
<li><a class="reference internal" href="#id29">0.9.6-20 2011-10-04</a></li>
<li><a class="reference internal" href="#id30">0.9.6-19 2011-09-29</a></li>
<li><a class="reference internal" href="#id31">0.9.6-18 2011-09-22</a></li>
<li><a class="reference internal" href="#id32">0.9.6-17 2011-09-21</a></li>
<li><a class="reference internal" href="#id33">0.9.6-16 2011-09-14</a></li>
<li><a class="reference internal" href="#id34">0.9.6-15 2011-09-09</a></li>
<li><a class="reference internal" href="#id35">0.9.6-14 2011-09-05</a></li>
<li><a class="reference internal" href="#id36">0.9.6-13 2011-08-24</a></li>
<li><a class="reference internal" href="#id37">0.9.6-12 2011-08-24</a></li>
<li><a class="reference internal" href="#id38">0.9.6-11 2011-08-23</a></li>
<li><a class="reference internal" href="#id39">0.9.6-10 2011-08-11</a></li>
<li><a class="reference internal" href="#id40">0.9.6-9</a></li>
<li><a class="reference internal" href="#id41">0.9.6-8</a></li>
<li><a class="reference internal" href="#id42">0.9.6-7 2011-07-13</a></li>
<li><a class="reference internal" href="#id43">0.9.6-6 2011-07-12</a></li>
<li><a class="reference internal" href="#id44">0.9.6-5 2011-07-06</a></li>
<li><a class="reference internal" href="#id45">0.9.6-4 2011-07-01</a></li>
<li><a class="reference internal" href="#id46">0.9.6-3 2011-07-01</a></li>
<li><a class="reference internal" href="#id47">0.9.6-2 2011-06-30</a></li>
<li><a class="reference internal" href="#id48">0.9.6-1 2011-06-25</a></li>
<li><a class="reference internal" href="#id49">0.9.6 2011-06-21</a></li>
<li><a class="reference internal" href="#id50">0.9.5-1 2011-06-21</a></li>
<li><a class="reference internal" href="#id51">0.9.5 2011-06-20</a></li>
<li><a class="reference internal" href="#id52">0.6.8</a></li>
<li><a class="reference internal" href="#id53">0.1 2010-01-30</a></li>
</ul>
</li>
</ul>


<h3><a href="../contents.html">Core Documentation</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../markdown-docs/database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../markdown-docs/replicaset.html">Replicasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../markdown-docs/collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../markdown-docs/insert.html">Inserting and updating</a></li>
<li class="toctree-l1"><a class="reference internal" href="../markdown-docs/queries.html">Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../markdown-docs/indexes.html">Indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../markdown-docs/gridfs.html">GridStore</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/changelog/changelog.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../contents.html">MongoDB Node.JS Driver 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, MongoDB Node.JS Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-7301842-7']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <script type="text/javascript">
      document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script>
  </body>
</html>